<div class="task-form-card">
  <h1 *ngIf="!isEditMode">Ajouter une Tâche</h1>
  <h1 *ngIf="isEditMode">Modifier une Tâche</h1>
  <form [formGroup]="taskForm" (ngSubmit)="saveTask()">
    <!-- Ligne 1 : Titre et Statut -->
    <div class="form-row">
      <mat-form-field appearance="outline" >
        <mat-label>Titre</mat-label>
        <input matInput placeholder="Titre de la tâche" formControlName="title" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Statut</mat-label>
        <mat-select formControlName="status">
          <mat-option value="À faire">À faire</mat-option>
          <mat-option value="En cours">En cours</mat-option>
          <mat-option value="Terminé">Terminé</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <!-- Ligne 2 : Priorité et Date d'échéance -->
    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Priorité</mat-label>
        <mat-select formControlName="priority">
          <mat-option value="Haute">Haute</mat-option>
          <mat-option value="Moyenne">Moyenne</mat-option>
          <mat-option value="Basse">Basse</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Date d'échéance</mat-label>
        <input matInput type="date" formControlName="due_date" />
      </mat-form-field>
    </div>

    <!-- Ligne 3 : Temps estimé et Catégorie -->
    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Temps estimé (heures)</mat-label>
        <input matInput type="number" placeholder="Temps estimé" formControlName="estimated_time" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Catégorie</mat-label>
        <input matInput placeholder="Catégorie" formControlName="category" />
      </mat-form-field>
    </div>

    <!-- Ligne 4 : Assigné à et Tags -->
    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Assigné à</mat-label>
        <input matInput placeholder="Nom de la personne assignée" formControlName="assigned_to" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Tags</mat-label>
        <input matInput placeholder="Tags, séparés par des virgules" formControlName="tags" />
      </mat-form-field>
    </div>

    <!-- Ligne 5 : Description -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Description</mat-label>
      <textarea matInput placeholder="Description de la tâche" formControlName="description"></textarea>
    </mat-form-field>

    <!-- Ligne 6 : Commentaires -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Commentaires</mat-label>
      <textarea matInput placeholder="Commentaires" formControlName="comments"></textarea>
    </mat-form-field>

    <!-- Boutons -->
    <div class="button-group">
      <button mat-raised-button color="primary" [disabled]="taskForm.invalid" *ngIf="!isEditMode" >
        Enregistrer
      </button>
      <button mat-raised-button color="primary" [disabled]="taskForm.invalid" *ngIf="isEditMode">
        Modifier
      </button>
      <button mat-raised-button color="primary" routerLink="/list">
        Annuler
      </button>
    </div>
  </form>
</div>
